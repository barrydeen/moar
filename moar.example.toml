domain = "localhost"
port = 8080
# Hex pubkey of the admin — only this key can log into the admin UI
admin_pubkey = "your-hex-pubkey-here"
# Directory for custom relay home pages (default: "pages")
# Place {relay_id}.html files here, or edit via the admin UI
pages_dir = "pages"

# ===== Web of Trust =====

[wots.default]
seed = "your-hex-pubkey-here"
depth = 2
update_interval_hours = 24

# ===== Relays =====

# Outbox Relay - Public read, whitelisted write
[relays.outbox]
name = "My Outbox"
description = "Only I can post here"
subdomain = "outbox"
db_path = "data/outbox.mdb"

[relays.outbox.policy.write]
allowed_pubkeys = ["your-hex-pubkey-here"]

[relays.outbox.policy.read]

[relays.outbox.policy.events]

# Inbox Relay - Anyone can write if tagging your pubkey, open read
[relays.inbox]
name = "Inbox"
description = "Receive mentions and replies"
subdomain = "inbox"
db_path = "data/inbox.mdb"

[relays.inbox.policy.write]
tagged_pubkeys = ["your-hex-pubkey-here"]

[relays.inbox.policy.read]

[relays.inbox.policy.events]

# Private Relay - Only the owner can read and write
[relays.private]
name = "Private"
description = "Private notes — only the owner can read and write"
subdomain = "private"
db_path = "data/private.mdb"

[relays.private.policy.write]
require_auth = true
allowed_pubkeys = ["your-hex-pubkey-here"]

[relays.private.policy.read]
require_auth = true
allowed_pubkeys = ["your-hex-pubkey-here"]

# DM Relay - WoT gated direct messages
[relays.dms]
name = "DM Relay"
description = "Private direct messages — WoT gated"
subdomain = "dm"
db_path = "data/dm.mdb"

[relays.dms.policy.write]
tagged_pubkeys = ["your-hex-pubkey-here"]
wot = "default"

[relays.dms.policy.read]
require_auth = true
wot = "default"

[relays.dms.policy.events]
allowed_kinds = [
    4,
    1059,
    5,
]

# Public Relay - Open to everyone
[relays.public]
name = "Public Relay"
description = "A fully open relay"
subdomain = "www"
db_path = "data/public.mdb"

[relays.public.policy.write]
require_auth = false

[relays.public.policy.read]
require_auth = false

[relays.public.policy.events]

# ===== Blossom Media Servers =====

# Blossom - Media storage with owner-only uploads
[blossoms.media]
name = "Blossom"
description = "Blossom media server"
subdomain = "blossom"
storage_path = "data/blossom/media"

[blossoms.media.policy]
max_file_size = 104857600  # 100MB

[blossoms.media.policy.upload]
allowed_pubkeys = ["your-hex-pubkey-here"]

[blossoms.media.policy.list]
require_auth = false
